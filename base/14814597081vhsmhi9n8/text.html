<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff;">Шпаргалка по командам</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">В этом параграфе приведена сухая шпаргалка по командам Git. Я далеко не спец в этой системе контроля версий, так что ошибки в терминологии или еще в чем-то вполне возможны. Если вы видите в этом разделе ошибку, отпишитесь, пожалуйста, в комментариях.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Создать новый репозиторий:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git init</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> project-name</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Если вы планируете клонировать его по ssh с удаленной машины, также скажите:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git config</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --bool core.bare </span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">true</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">… иначе при git push вы будете получать странные ошибки вроде:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#000000; background-color:#f1f1f1;">Refusing to update checked out branch: refs/heads/master</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"><br />By default, updating the current branch in a non-bare repository<br />is denied, because it will make the index and work tree inconsistent<br />with what you pushed, and will require 'git reset --hard' to match<br />the work tree to HEAD.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Клонировать репозиторий с удаленной машины:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git clone</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;">@bitbucket.org:afiskon/hs-textgen.git</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Если хотим пушить один код в несколько репозиториев:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git remote</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> add remotename </span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;">@gitlab.example.ru:repo.git</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'Arial,Helvetica,sans-serif'; color:#222222; background-color:#ffffff;">Теперь удалить его можно так:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; color:#2060a0;">git remote</span><span style=" font-family:'monospace'; color:#000000;"> remove remotename</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Добавить файл в репозиторий:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git add</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> text.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Удалить файл:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git rm</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> text.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Текущее состояние репозитория (изменения, неразрешенные конфликты и тп):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git status</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Сделать коммит:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git commit</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> -a -m </span><span style=" font-family:'monospace'; font-size:13px; color:#c03030;">&quot;Commit description&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Сделать коммит, введя его описание с помощью $EDITOR:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git commit</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> -a</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Замерджить</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> </span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; font-style:italic; color:#222222;">все ветки</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> локального репозитория на удаленный репозиторий (аналогично вместо origin можно указать и remotename, см выше):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git push</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> origin</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Аналогично предыдущему, но делается пуш</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> </span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; font-style:italic; color:#222222;">только ветки master</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git push</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> origin master</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Запушить</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> </span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; font-style:italic; color:#222222;">текущую ветку</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">, не вводя целиком ее название:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git push</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> origin HEAD</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Замерджить все ветки с удаленного репозитория:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git pull</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> origin</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Аналогично предыдущему, но накатывается только ветка master:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git pull</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> origin master</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Накатить текущую ветку, не вводя ее длинное имя:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git pull</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> origin HEAD</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Скачать все ветки с origin, но не мерджить их в локальный репозиторий:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git fetch</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> origin</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Аналогично предыдущему, но только для одной заданной ветки:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git fetch</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> origin master</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Начать работать с веткой some_branch (уже существующей):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git checkout</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> -b some_branch origin/some_branch</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Создать новый бранч (ответвится от текущего):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git branch</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> some_branch</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Переключиться на другую ветку (из тех, с которыми уже работаем):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git checkout</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> some_branch</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Получаем список веток, с которыми работаем:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git branch</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:13px; font-style:italic; color:#406040;"># звездочкой отмечена текущая ветвь</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Просмотреть все существующие ветви:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git branch</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> -a </span><span style=" font-family:'monospace'; font-size:13px; font-style:italic; color:#406040;"># | grep something</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Замерджить some_branch в текущую ветку:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git merge</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> some_branch</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Удалить бранч (после мерджа):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git branch</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> -d some_branch</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Просто удалить бранч (тупиковая ветвь):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git branch</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> -D some_branch</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">История изменений:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git log</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">История изменений в обратном порядке:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git log</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --reverse</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">История конкретного файла:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git log</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> file.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Аналогично предыдущему, но с просмотром сделанных изменений:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git log</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> -p file.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">История с именами файлов и псевдографическим изображением бранчей:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git log</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --stat --graph</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Изменения, сделанные в заданном коммите:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git show</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> d8578edf8458ce06fbc5bb76a58c5ca4a58c5ca4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Посмотреть, кем в последний раз правилась каждая строка файла:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git blame</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> file.txt</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Удалить бранч из репозитория на сервере:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git push</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> origin :branch-name</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Откатиться к конкретному коммиту (хэш смотрим в «git log»):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git reset</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --hard d8578edf8458ce06fbc5bb76a58c5ca4a58c5ca4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Аналогично предыдущему, но файлы на диске остаются без изменений:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git reset</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --soft d8578edf8458ce06fbc5bb76a58c5ca4a58c5ca4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Попытаться обратить заданный commit (но чаще используется branch/reset + merge):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git revert</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> d8578edf8458ce06fbc5bb76a58c5ca4a58c5ca4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Просмотр изменений (суммарных, а не всех по очереди, как в «git log»):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git diff</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:13px; font-style:italic; color:#406040;"># подробности см в &quot;git diff --help&quot;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Используем vimdiff в качестве программы для разрешения конфликтов (mergetool) по умолчанию:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git config</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --global merge.tool vimdiff</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Отключаем диалог «какой mergetool вы хотели бы использовать»:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git config</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --global mergetool.prompt </span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">false</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Отображаем табы как 4 пробела, например, в «git diff»:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git config</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --global core.pager </span><span style=" font-family:'monospace'; font-size:13px; color:#c03030;">'less -x4'</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Создание</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> </span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; font-style:italic; color:#222222;">глобального</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> </span><a href="https://git-scm.com/docs/gitignore"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; text-decoration: underline; color:#666666;">файла .gitignore</span></a><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git config</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --global core.excludesfile ~/.gitignore_global</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Разрешение конфликтов (когда оные возникают в результате мерджа):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git mergetool</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Создание тэга:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git tag</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> some_tag </span><span style=" font-family:'monospace'; font-size:13px; font-style:italic; color:#406040;"># за тэгом можно указать хэш коммита</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Удаление untracked files:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git clean</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> -f</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">«Упаковка» репозитория для увеличения скорости работы с ним:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git gc</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Иногда требуется создать копию репозитория или перенести его с одной машины на другую. Это делается примерно так:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">mkdir</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> -p /tmp/git-copy<br /></span><span style=" font-family:'monospace'; font-size:13px; color:#008080;">cd</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> /tmp/git-copy<br /></span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git clone</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --bare </span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;">@example.com:afiskon/cpp-opengl-tutorial1.git<br /></span><span style=" font-family:'monospace'; font-size:13px; color:#008080;">cd</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> cpp-opengl-tutorial1.git<br /></span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git push</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> --mirror </span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;">@example.com:afiskon/cpp-opengl-tutorial2.git</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Следует отметить, что Git позволяет использовать короткую запись хэшей. Вместо «d8578edf8458ce06fbc5bb76a58c5ca4a58c5ca4» можно писать «d8578edf» или даже «d857».</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; font-style:italic; color:#222222;">Дополнение:</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> Также в 6-м пункте </span><a href="http://eax.me/mini-notes-issue-9/"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; text-decoration: underline; color:#666666;">Мини-заметок номер 9</span></a><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> приводится пример объединения коммитов с помощью </span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0; background-color:#f1f1f1;">git rebase</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">, а в 10-м пункте </span><a href="http://eax.me/mini-notes-issue-11/"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; text-decoration: underline; color:#666666;">Мини-заметок номер 11</span></a><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> вы найдете пример объединения двух репозиториев в один без потери истории.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:large; font-weight:600; color:#222222; background-color:#ffffff;">Работа с сабмодулями</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Более подробно сабмодули и зачем они нужны объясняется в заметке</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> </span><a href="http://eax.me/opengl-simple-project/"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; text-decoration: underline; color:#666666;">Простой кроссплатформенный OpenGL-проект на C++</span></a><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;">. Здесь упомянем самое главное.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Добавить сабмодуль:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git submodule</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> add https://github.com/glfw/glfw glfw</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Инициализация сабмодулей:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git submodule</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> init</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Обновление сабмодулей, например, если после</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> </span><span style=" font-family:'monospace'; font-size:13px; color:#000000; background-color:#f1f1f1;">git pull</span><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;"> поменялся коммит, на который смотрит сабмодуль:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f1f1f1;"><span style=" font-family:'monospace'; font-size:13px; color:#2060a0;">git submodule</span><span style=" font-family:'monospace'; font-size:13px; color:#000000;"> update</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222; background-color:#ffffff;">Удаление сабмодуля производится так:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Скажите </span><span style=" font-family:'monospace'; font-size:13px; color:#2060a0; background-color:#f1f1f1;">git rm</span><span style=" font-family:'monospace'; font-size:13px; color:#000000; background-color:#f1f1f1;"> --cached имя_сабмодуля</span><span style=" font-size:15px;">;</span></li>
<li style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Удалите соответствующие строчки из файла .gitmodules;</span></li>
<li style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Также грохните соответствующую секцию в .git/config;</span></li>
<li style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Сделайте коммит;</span></li>
<li style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;" style=" margin-top:0px; margin-bottom:0px; margin-left:30px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Удалите файлы сабмодуля;</span></li>
<li style=" font-family:'Arial,Helvetica,sans-serif'; font-size:15px; color:#222222;" style=" margin-top:0px; margin-bottom:10px; margin-left:30px; margin-right:10px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Удалите каталог .git/modules/имя_сабмодуля;</span></li></ol></body></html>